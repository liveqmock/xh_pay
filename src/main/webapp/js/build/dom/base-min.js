/*
Copyright 2013, KISSY UI Library v1.30
MIT Licensed
build time: Jan 9 19:16
*/
KISSY.add("dom/base/api",function(c){var b=c.Env.host,i=c.UA,l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},j={isCustomDomain:function(c){var c=c||b,i=c.document.domain,c=c.location.hostname;return i!=c&&i!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||b;return i.ie&&j.isCustomDomain(c)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:l,getWindow:function(c){return!c?b:"scrollTo"in c&&c.document?c:c.nodeType==l.DOCUMENT_NODE?c.defaultView||c.parentWindow:!1},_isNodeList:function(b){return b&&!b.nodeType&&b.item&&!b.setTimeout},nodeName:function(b){var c=j.get(b),b=c.nodeName.toLowerCase();i.ie&&(c=c.scopeName)&&"HTML"!=c&&(b=c.toLowerCase()+":"+b);return b},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};c.mix(j,l);return j});
KISSY.add("dom/base/attr",function(c,b,i){function l(b,d){var d=w[d]||d,a=x[d];return a&&a.get?a.get(b,d):b[d]}var j=c.Env.host.document,q=b.NodeType,s=(j=j&&j.documentElement)&&j.textContent===i?"innerText":"textContent",k=b.nodeName,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,g=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,d=/:|^on/,a=/\r/g,r={},e={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},y={tabindex:{get:function(b){var d=b.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):g.test(b.nodeName)||t.test(b.nodeName)&&b.href?0:i}}},w={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},A={get:function(d,
a){return b.prop(d,a)?a.toLowerCase():i},set:function(d,a,c){!1===a?b.removeAttr(d,c):(a=w[c]||c,a in d&&(d[a]=!0),d.setAttribute(c,c.toLowerCase()));return c}},x={},v={},B={select:{get:function(d){var a=d.selectedIndex,c=d.options,h;if(0>a)return null;if("select-one"===d.type)return b.val(c[a]);d=[];a=0;for(h=c.length;a<h;++a)c[a].selected&&d.push(b.val(c[a]));return d},set:function(d,a){var e=c.makeArray(a);c.each(d.options,function(h){h.selected=c.inArray(b.val(h),e)});e.length||(d.selectedIndex=
-1);return e}}};c.each(["radio","checkbox"],function(d){B[d]={get:function(b){return null===b.getAttribute("value")?"on":b.value},set:function(d,a){if(c.isArray(a))return d.checked=c.inArray(b.val(d),a)}}});y.style={get:function(b){return b.style.cssText}};c.mix(b,{_valHooks:B,_propFix:w,_attrHooks:y,_propHooks:x,_attrNodeHook:v,_attrFix:r,prop:function(d,a,e){var h=b.query(d),m,n;if(c.isPlainObject(a))return c.each(a,function(m,d){b.prop(h,d,m)}),i;a=w[a]||a;n=x[a];if(e!==i)for(d=h.length-1;0<=d;d--)m=
h[d],n&&n.set?n.set(m,e,a):m[a]=e;else if(h.length)return l(h[0],a);return i},hasProp:function(d,a){var c=b.query(d),h,m=c.length,n;for(h=0;h<m;h++)if(n=c[h],l(n,a)!==i)return!0;return!1},removeProp:function(d,a){var a=w[a]||a,c=b.query(d),h,m;for(h=c.length-1;0<=h;h--){m=c[h];try{m[a]=i,delete m[a]}catch(n){}}},attr:function(a,g,z,h){var m=b.query(a),n=m[0];if(c.isPlainObject(g)){var h=z,u;for(u in g)b.attr(m,u,g[u],h);return i}if(!(g=c.trim(g)))return i;if(h&&e[g])return b[g](a,z);g=g.toLowerCase();
if(h&&e[g])return b[g](a,z);g=r[g]||g;a=f.test(g)?A:d.test(g)?v:y[g];if(z===i){if(n&&n.nodeType===q.ELEMENT_NODE){"form"==k(n)&&(a=v);if(a&&a.get)return a.get(n,g);g=n.getAttribute(g);return null===g?i:g}}else for(h=m.length-1;0<=h;h--)if((n=m[h])&&n.nodeType===q.ELEMENT_NODE)"form"==k(n)&&(a=v),a&&a.set?a.set(n,z,g):n.setAttribute(g,""+z);return i},removeAttr:function(a,d){var d=d.toLowerCase(),d=r[d]||d,c=b.query(a),h,m,n;for(n=c.length-1;0<=n;n--)if(m=c[n],m.nodeType==q.ELEMENT_NODE&&(m.removeAttribute(d),
f.test(d)&&(h=w[d]||d)in m))m[h]=!1},hasAttr:j&&!j.hasAttribute?function(a,d){var d=d.toLowerCase(),c=b.query(a),h,m;for(h=0;h<c.length;h++)if(m=c[h],(m=m.getAttributeNode(d))&&m.specified)return!0;return!1}:function(d,a){var c=b.query(d),h,m=c.length;for(h=0;h<m;h++)if(c[h].hasAttribute(a))return!0;return!1},val:function(d,g){var e,h,m,n,u;if(g===i){if(m=b.get(d)){if((e=B[k(m)]||B[m.type])&&"get"in e&&(h=e.get(m,"value"))!==i)return h;h=m.value;return"string"===typeof h?h.replace(a,""):null==h?"":
h}return i}h=b.query(d);for(n=h.length-1;0<=n;n--){m=h[n];if(1!==m.nodeType)break;u=g;null==u?u="":"number"===typeof u?u+="":c.isArray(u)&&(u=c.map(u,function(b){return b==null?"":b+""}));e=B[k(m)]||B[m.type];if(!e||!("set"in e)||e.set(m,u,"value")===i)m.value=u}return i},text:function(d,a){var c,h,m;if(a===i){c=b.get(d);if(c.nodeType==q.ELEMENT_NODE)return c[s]||"";if(c.nodeType==q.TEXT_NODE)return c.nodeValue}else{h=b.query(d);for(m=h.length-1;0<=m;m--)c=h[m],c.nodeType==q.ELEMENT_NODE?c[s]=a:c.nodeType==
q.TEXT_NODE&&(c.nodeValue=a)}return i}});return b},{requires:["./api"]});KISSY.add("dom/base",function(c,b){c.mix(c,{DOM:b,get:b.get,query:b.query});return b},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(c,b,i){function l(k,f,g,t){if(!(f=c.trim(f)))return t?!1:i;var k=b.query(k),d=k.length,a=f.split(q),f=[],r,e;for(e=0;e<a.length;e++)(r=c.trim(a[e]))&&f.push(r);for(e=0;e<d;e++)if(a=k[e],a.nodeType==j.ELEMENT_NODE&&(a=g(a,f,f.length),a!==i))return a;return t?!1:i}var j=b.NodeType,q=/[\.\s]\s*\.?/,s=/[\n\t]/g;c.mix(b,{hasClass:function(b,c){return l(b,c,function(b,c,d){var b=b.className,a,r;if(b){b=(" "+b+" ").replace(s," ");a=0;for(r=!0;a<d;a++)if(0>b.indexOf(" "+
c[a]+" ")){r=!1;break}if(r)return!0}},!0)},addClass:function(b,f){l(b,f,function(b,i,d){var a=b.className,r,e;if(a){r=(" "+a+" ").replace(s," ");for(e=0;e<d;e++)0>r.indexOf(" "+i[e]+" ")&&(a+=" "+i[e]);b.className=c.trim(a)}else b.className=f},i)},removeClass:function(b,f){l(b,f,function(b,i,d){var a=b.className,r,e;if(a)if(d){a=(" "+a+" ").replace(s," ");for(r=0;r<d;r++)for(e=" "+i[r]+" ";0<=a.indexOf(e);)a=a.replace(e," ");b.className=c.trim(a)}else b.className=""},i)},replaceClass:function(c,i,
g){b.removeClass(c,i);b.addClass(c,g)},toggleClass:function(k,f,g){var j=c.isBoolean(g),d,a;l(k,f,function(c,e,i){for(a=0;a<i;a++)f=e[a],d=j?!g:b.hasClass(c,f),b[d?"removeClass":"addClass"](c,f)},i)}});return b},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,b,i){function l(h){var d=c.require("event/dom");d&&d.detach(h);b.removeData(h)}function j(b,m){var c=m&&m!=f?m.createElement(d):a;c.innerHTML="m<div>"+b+"</div>";return c.lastChild}function q(b,d,a){var c=d.nodeType;if(c==g.DOCUMENT_FRAGMENT_NODE){d=d.childNodes;a=a.childNodes;for(c=0;d[c];)a[c]&&q(b,d[c],a[c]),c++}else if(c==g.ELEMENT_NODE){d=d.getElementsByTagName("*");a=a.getElementsByTagName("*");for(c=0;d[c];)a[c]&&b(d[c],a[c]),c++}}function s(h,d){var a=
c.require("event/dom"),e,o;if(d.nodeType!=g.ELEMENT_NODE||b.hasData(h)){e=b.data(h);for(o in e)b.data(d,o,e[o]);a&&(a._DOMUtils.removeData(d),a._clone(h,d))}}function k(b){var d=null,a,e;if(b&&(b.push||b.item)&&b[0]){d=b[0].ownerDocument;d=d.createDocumentFragment();b=c.makeArray(b);a=0;for(e=b.length;a<e;a++)d.appendChild(b[a])}return d}var f=c.Env.host.document,g=b.NodeType,t=c.UA.ie,d="div",a=f&&f.createElement(d),r=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,e=/<([\w:]+)/,
y=/^\s+/,w=t&&9>t,A=/<|&#?\w+;/,x=f&&"outerHTML"in f.documentElement,v=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(b,{create:function(h,a,n,u){var o=null;if(!h)return o;if(h.nodeType)return b.clone(h);if("string"!=typeof h)return o;u===i&&(u=!0);u&&(h=c.trim(h));var u=b._creators,p,D,n=n||f,F,G=d;if(A.test(h))if(F=v.exec(h))o=n.createElement(F[1]);else{h=h.replace(r,"<$1></$2>");if((F=e.exec(h))&&(p=F[1]))G=p.toLowerCase();p=(u[G]||j)(h,n);w&&(D=h.match(y))&&p.insertBefore(n.createTextNode(D[0]),p.firstChild);
h=p.childNodes;1===h.length?o=h[0].parentNode.removeChild(h[0]):h.length&&(o=k(h))}else o=n.createTextNode(h);c.isPlainObject(a)&&(o.nodeType==g.ELEMENT_NODE?b.attr(o,a,!0):o.nodeType==g.DOCUMENT_FRAGMENT_NODE&&b.attr(o.childNodes,a,!0));return o},_fixCloneAttributes:null,_creators:{div:j},_defaultCreator:j,html:function(d,a,c,r){var d=b.query(d),o=d[0],p=!1,D,f;if(o){if(a===i)return o.nodeType==g.ELEMENT_NODE?o.innerHTML:null;a+="";if(!a.match(/<(?:script|style|link)/i)&&(!w||!a.match(y))&&!C[(a.match(e)||
["",""])[1].toLowerCase()])try{for(D=d.length-1;0<=D;D--)f=d[D],f.nodeType==g.ELEMENT_NODE&&(l(f.getElementsByTagName("*")),f.innerHTML=a);p=!0}catch(k){}p||(a=b.create(a,0,o.ownerDocument,0),b.empty(d),b.append(a,d,c));r&&r()}},outerHTML:function(h,c,n){var e=b.query(h),o=e.length;if(h=e[0]){if(c===i){if(x)return h.outerHTML;c=(c=h.ownerDocument)&&c!=f?c.createElement(d):a;c.innerHTML="";c.appendChild(b.clone(h,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&x)for(n=o-1;0<=
n;n--)h=e[n],h.nodeType==g.ELEMENT_NODE&&(l(h),l(h.getElementsByTagName("*")),h.outerHTML=c);else h=b.create(c,0,h.ownerDocument,0),b.insertBefore(h,e,n),b.remove(e)}},remove:function(d,a){var c,e=b.query(d),o,p;for(p=e.length-1;0<=p;p--)c=e[p],!a&&c.nodeType==g.ELEMENT_NODE&&(o=c.getElementsByTagName("*"),l(o),l(c)),c.parentNode&&c.parentNode.removeChild(c)},clone:function(d,a,c,e){"object"===typeof a&&(e=a.deepWithDataAndEvent,c=a.withDataAndEvent,a=a.deep);var d=b.get(d),o,p=b._fixCloneAttributes,
i;if(!d)return null;i=d.nodeType;o=d.cloneNode(a);if(i==g.ELEMENT_NODE||i==g.DOCUMENT_FRAGMENT_NODE)p&&i==g.ELEMENT_NODE&&p(d,o),a&&p&&q(p,d,o);c&&(s(d,o),a&&e&&q(s,d,o));return o},empty:function(d){var d=b.query(d),a,c;for(c=d.length-1;0<=c;c--)a=d[c],b.remove(a.childNodes)},_nodeListToFragment:k});var B=b._creators,E=b.create,C={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},
z;for(z in C)(function(b){B[z]=function(d,a){return E("<"+b+">"+d+"</"+b+">",null,a)}})(C[z]);return b},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,b,i){var l=c.Env.host,j="__ks_data_"+c.now(),q={},s={},k={applet:1,object:1,embed:1},f={hasData:function(b,a){if(b)if(a!==i){if(a in b)return!0}else if(!c.isEmptyObject(b))return!0;return!1}},g={hasData:function(b,a){return b==l?g.hasData(s,a):f.hasData(b[j],a)},data:function(b,a,c){if(b==l)return g.data(s,a,c);var e=b[j];if(c!==i)e=b[j]=b[j]||{},e[a]=c;else return a!==i?e&&e[a]:e=b[j]=b[j]||{}},removeData:function(b,a){if(b==l)return g.removeData(s,a);var f=b[j];
if(a!==i)delete f[a],c.isEmptyObject(f)&&g.removeData(b);else try{delete b[j]}catch(e){b[j]=i}}},t={hasData:function(b,a){var c=b[j];return!c?!1:f.hasData(q[c],a)},data:function(b,a,g){if(k[b.nodeName.toLowerCase()])return i;var e=b[j];if(!e){if(a!==i&&g===i)return i;e=b[j]=c.guid()}b=q[e];if(g!==i)b=q[e]=q[e]||{},b[a]=g;else return a!==i?b&&b[a]:b=q[e]=q[e]||{}},removeData:function(b,a){var g=b[j],e;if(g)if(e=q[g],a!==i)delete e[a],c.isEmptyObject(e)&&t.removeData(b);else{delete q[g];try{delete b[j]}catch(f){b[j]=
i}b.removeAttribute&&b.removeAttribute(j)}}};c.mix(b,{__EXPANDO:j,hasData:function(d,a){for(var c=!1,e=b.query(d),i=0;i<e.length&&!(c=e[i],c=c.nodeType?t.hasData(c,a):g.hasData(c,a));i++);return c},data:function(d,a,f){var d=b.query(d),e=d[0];if(c.isPlainObject(a)){for(var k in a)b.data(d,k,a[k]);return i}if(f===i){if(e)return e.nodeType?t.data(e,a):g.data(e,a)}else for(k=d.length-1;0<=k;k--)e=d[k],e.nodeType?t.data(e,a,f):g.data(e,a,f);return i},removeData:function(c,a){var i=b.query(c),e,f;for(f=
i.length-1;0<=f;f--)e=i[f],e.nodeType?t.removeData(e,a):g.removeData(e,a)}});return b},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,b){function i(b,a){var c=[],e,j,l;for(e=0;b[e];e++)if(j=b[e],l=k(j),j.nodeType==q.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,i(f(j.childNodes),a));else if("script"===l&&(!j.type||t.test(j.type)))j.parentNode&&j.parentNode.removeChild(j),a&&a.push(j);else{if(j.nodeType==q.ELEMENT_NODE&&!s.test(l)){l=[];var A,x,v=j.getElementsByTagName("script");for(x=0;x<v.length;x++)A=v[x],(!A.type||t.test(A.type))&&l.push(A);g.apply(b,[e+1,0].concat(l))}c.push(j)}return c}function l(b){b.src?
c.getScript(b.src):(b=c.trim(b.text||b.textContent||b.innerHTML||""))&&c.globalEval(b)}function j(d,a,g,e){d=b.query(d);e&&(e=[]);d=i(d,e);b._fixInsertionChecked&&b._fixInsertionChecked(d);var a=b.query(a),f,k,j,x,v=a.length;if((d.length||e&&e.length)&&v){d=b._nodeListToFragment(d);1<v&&(x=b.clone(d,!0),a=c.makeArray(a));for(f=0;f<v;f++)k=a[f],d&&(j=0<f?b.clone(x,!0):d,g(j,k)),e&&e.length&&c.each(e,l)}}var q=b.NodeType,s=/^(?:button|input|object|select|textarea)$/i,k=b.nodeName,f=c.makeArray,g=[].splice,
t=/\/(java|ecma)script/i;c.mix(b,{_fixInsertionChecked:null,insertBefore:function(b,a,c){j(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a)},c)},insertAfter:function(b,a,c){j(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a.nextSibling)},c)},appendTo:function(b,a,c){j(b,a,function(b,a){a.appendChild(b)},c)},prependTo:function(b,a,c){j(b,a,function(b,a){a.insertBefore(b,a.firstChild)},c)},wrapAll:function(c,a){a=b.clone(b.get(a),!0);c=b.query(c);c[0].parentNode&&b.insertBefore(a,
c[0]);for(var g;(g=a.firstChild)&&1==g.nodeType;)a=g;b.appendTo(c,a)},wrap:function(d,a){d=b.query(d);a=b.get(a);c.each(d,function(c){b.wrapAll(c,a)})},wrapInner:function(d,a){d=b.query(d);a=b.get(a);c.each(d,function(c){var d=c.childNodes;d.length?b.wrapAll(d,a):c.appendChild(a)})},unwrap:function(d){d=b.query(d);c.each(d,function(a){a=a.parentNode;b.replaceWith(a,a.childNodes)})},replaceWith:function(c,a){var g=b.query(c),a=b.query(a);b.remove(a,!0);b.insertBefore(a,g);b.remove(g)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,a){b[a]=b[c]});return b},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,b,i){function l(b){var a,c=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};a=b.getBoundingClientRect();b=a[r];a=a[e];b-=f.clientLeft||c.clientLeft||0;a-=f.clientTop||c.clientTop||0;return{left:b,top:a}}function j(c,d){var e={left:0,top:0},i=g(c[a]),f,k=c,d=d||i;do{if(i==d){var h=k;f=l(h);h=g(h[a]);f.left+=b[w](h);f.top+=b[A](h)}else f=l(k);e.left+=f.left;e.top+=f.top}while(i&&i!=d&&(k=i.frameElement)&&(i=i.parent));return e}var q=c.Env.host,
s=q.document,k=b.NodeType,f=s&&s.documentElement,g=b.getWindow,t=Math.max,d=parseInt,a="ownerDocument",r="left",e="top",y=c.isNumber,w="scrollLeft",A="scrollTop";c.mix(b,{offset:function(a,c,e){if(c===i){var a=b.get(a),g;a&&(g=j(a,e));return g}e=b.query(a);for(g=e.length-1;0<=g;g--){var a=e[g],f=c;"static"===b.css(a,"position")&&(a.style.position="relative");var k=j(a),h={},m=void 0,n=void 0;for(n in f)m=d(b.css(a,n),10)||0,h[n]=m+f[n]-k[n];b.css(a,h)}return i},scrollIntoView:function(a,c,f,j,l){var t,
h,m;if(h=b.get(a)){c&&(c=b.get(c));c||(c=h.ownerDocument);!0!==l&&(j=j===i?!0:!!j,f=f===i?!0:!!f);c.nodeType==k.DOCUMENT_NODE&&(c=g(c));m=!!g(c);l=b.offset(h);a=b.outerHeight(h);t=b.outerWidth(h);var n,u,o,p;m?(h=c,n=b.height(h),u=b.width(h),p={left:b.scrollLeft(h),top:b.scrollTop(h)},h=l[r]-p[r],m=l[e]-p[e],t=l[r]+t-(p[r]+u),l=l[e]+a-(p[e]+n)):(n=b.offset(c),u=c.clientHeight,o=c.clientWidth,p={left:b.scrollLeft(c),top:b.scrollTop(c)},h=l[r]-n[r]-(d(b.css(c,"borderLeftWidth"))||0),m=l[e]-n[e]-(d(b.css(c,
"borderTopWidth"))||0),t=l[r]+t-(n[r]+o+(d(b.css(c,"borderRightWidth"))||0)),l=l[e]+a-(n[e]+u+(d(b.css(c,"borderBottomWidth"))||0)));if(0>m||0<l)!0===f?b.scrollTop(c,p.top+m):!1===f?b.scrollTop(c,p.top+l):0>m?b.scrollTop(c,p.top+m):b.scrollTop(c,p.top+l);if(j&&(0>h||0<t))!0===f?b.scrollLeft(c,p.left+h):!1===f?b.scrollLeft(c,p.left+t):0>h?b.scrollLeft(c,p.left+h):b.scrollLeft(c,p.left+t)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(c,
a){var d="scroll"+c;b[d]=function(e,f){if(y(e))return arguments.callee(q,e);var e=b.get(e),j,h,m,n=g(e);n?f!==i?(f=parseFloat(f),h="Left"==c?f:b.scrollLeft(n),m="Top"==c?f:b.scrollTop(n),n.scrollTo(h,m)):(j=n["page"+(a?"Y":"X")+"Offset"],y(j)||(h=n.document,j=h.documentElement[d],y(j)||(j=h.body[d]))):e.nodeType==k.ELEMENT_NODE&&(f!==i?e[d]=parseFloat(f):j=e[d]);return j}});c.each(["Width","Height"],function(c){b["doc"+c]=function(a){a=b.get(a);a=g(a).document;return t(a.documentElement["scroll"+
c],a.body["scroll"+c],b["viewport"+c](a))};b["viewport"+c]=function(a){var a=b.get(a),d="client"+c,a=g(a).document,e=a.body,f=a.documentElement[d];return"CSS1Compat"===a.compatMode&&f||e&&e[d]||f}});return b},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,b,i){function l(b){var a,c;for(c=0;c<this.length&&!(a=this[c],!1===b(a,c));c++);}function j(a,f){var g,k,o="string"==typeof a,p=f==i&&(k=1)?[d]:j(f);a?o?(a=E(a),k&&"body"==a?g=[d.body]:1==p.length&&a&&(g=s(a,p[0]))):k&&(g=a.nodeType||a.setTimeout?[a]:a.getDOMNodes?a.getDOMNodes():e(a)?a:w(a)?c.makeArray(a):[a]):g=[];if(!g&&(g=[],a)){for(k=0;k<p.length;k++)x.apply(g,q(a,p[k]));1<g.length&&(1<p.length||o&&-1<a.indexOf(B))&&b.unique(g)}g.each=l;return g}function q(b,
a){var d="string"==typeof b;if(d&&b.match(z)||!d)d=k(b,a);else if(d&&-1<b.replace(/"(?:(?:\\.)|[^"])*"/g,"").replace(/'(?:(?:\\.)|[^'])*'/g,"").indexOf(B)){var d=[],e,o=b.split(/\s*,\s*/);for(e=0;e<o.length;e++)x.apply(d,q(o[e],a))}else d=[],(e=c.require("sizzle"))&&e(b,a,d);return d}function s(a,c){var d,e,o,p;if(C.test(a))d=(e=f(a.slice(1),c))?[e]:[];else if(o=z.exec(a)){e=o[1];p=o[2];o=o[3];if(c=e?f(e,c):c)o?!e||-1!=a.indexOf(v)?d=[].concat(b._getElementsByClassName(o,p,c)):(e=f(e,c),g(e,o)&&(d=
[e])):p&&(d=y(b._getElementsByTagName(p,c)));d=d||[]}return d}function k(a,c){var f;"string"==typeof a?f=s(a,c)||[]:e(a)||w(a)?f=r(a,function(a){return!a?!1:c==d?!0:b._contains(c,a)}):(!a?0:c==d||b._contains(c,a))&&(f=[a]);return f}function f(c,d){var e=d.nodeType==a.DOCUMENT_NODE;return b._getElementById(c,d,e?d:d.ownerDocument,e)}function g(b,a){var c=b&&b.className;return c&&-1<(v+c+v).indexOf(v+a+v)}function t(b,a){var c=b&&b.getAttributeNode(a);return c&&c.nodeValue}var d=c.Env.host.document,
a=b.NodeType,r=c.filter,e=c.isArray,y=c.makeArray,w=b._isNodeList,A=b.nodeName,x=Array.prototype.push,v=" ",B=",",E=c.trim,C=/^#[\w-]+$/,z=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;c.mix(b,{_getAttr:t,_hasSingleClass:g,_getElementById:function(a,c,d,e){var o=d.getElementById(a),f=b._getAttr(o,"id");return!o&&!e&&!b._contains(d,c)||o&&f!=a?b.filter("*","#"+a,c)[0]||null:e||o&&b._contains(c,o)?o:null},_getElementsByTagName:function(b,a){return a.getElementsByTagName(b)},_getElementsByClassName:function(b,
a,c){return y(c.querySelectorAll((a||"")+"."+b))},_compareNodeOrder:function(b,a){return!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition?-1:1:b.compareDocumentPosition(a)&4?-1:1},query:j,get:function(b,a){return j(b,a)[0]||null},unique:function(){function a(d,e){return d==e?(c=!0,0):b._compareNodeOrder(d,e)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(b){c=d;b.sort(a);if(c)for(var e=1,f=b.length;e<f;)b[e]===b[e-1]?b.splice(e,1):e++;return b}}(),
filter:function(b,a,d){var b=j(b,d),d=c.require("sizzle"),e,o,f,i,k=[];if("string"==typeof a&&(a=E(a))&&(e=z.exec(a)))f=e[1],o=e[2],i=e[3],f?f&&!o&&!i&&(a=function(b){return t(b,"id")==f}):a=function(b){var a=!0,c=!0;o&&(a=A(b)==o.toLowerCase());i&&(c=g(b,i));return c&&a};c.isFunction(a)?k=c.filter(b,a):a&&d&&(k=d.matches(a,b));return k},test:function(a,c,d){a=j(a,d);return a.length&&b.filter(a,c,d).length===a.length}});return b},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,b,i){function l(b){return b.replace(x,"ms-").replace(v,B)}function j(b,c,d){var e={},f;for(f in c)e[f]=b[a][f],b[a][f]=c[f];d.call(b);for(f in c)b[a][f]=e[f]}function q(b,c,d){var e,f,g;if(3===b.nodeType||8===b.nodeType||!(e=b[a]))return i;c=l(c);g=h[c];c=m[c]||c;if(d!==i){null===d||d===C?d=C:!isNaN(Number(d))&&!A[c]&&(d+=z);g&&g.set&&(d=g.set(b,d));if(d!==i){try{e[c]=d}catch(k){}d===C&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||b.removeAttribute("style");
return i}if(!g||!("get"in g&&(f=g.get(b,!1))!==i))f=e[c];return f===i?"":f}function s(b){var a,c=arguments;0!==b.offsetWidth?a=k.apply(i,c):j(b,u,function(){a=k.apply(i,c)});return a}function k(a,d,f){if(c.isWindow(a))return d==e?b.viewportWidth(a):b.viewportHeight(a);if(9==a.nodeType)return d==e?b.docWidth(a):b.docHeight(a);var g=d===e?["Left","Right"]:["Top","Bottom"],h=d===e?a.offsetWidth:a.offsetHeight;if(0<h)return"border"!==f&&c.each(g,function(c){f||(h-=parseFloat(b.css(a,"padding"+c))||0);
h="margin"===f?h+(parseFloat(b.css(a,f+c))||0):h-(parseFloat(b.css(a,"border"+c+"Width"))||0)}),h;h=b._getComputedStyle(a,d);if(null==h||0>Number(h))h=a.style[d]||0;h=parseFloat(h)||0;f&&c.each(g,function(c){h+=parseFloat(b.css(a,"padding"+c))||0;"padding"!==f&&(h+=parseFloat(b.css(a,"border"+c+"Width"))||0);"margin"===f&&(h+=parseFloat(b.css(a,f+c))||0)});return h}var f=c.Env.host,g=c.UA,t=b.nodeName,d=f.document,a="style",r=/^margin/,e="width",y="display"+c.now(),w=parseInt,A={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},x=/^-ms-/,v=/-([a-z])/ig,B=function(b,a){return a.toUpperCase()},E=/([A-Z]|^ms)/g,C="",z="px",h={},m={},n={};m["float"]="cssFloat";c.mix(b,{_camelCase:l,_CUSTOM_STYLES:h,_cssProps:m,_getComputedStyle:function(c,d){var e="",f,g,h,i,k;g=c.ownerDocument;d=d.replace(E,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(c,null))e=f.getPropertyValue(d)||f[d];""===e&&!b.contains(g,c)&&(d=m[d]||d,e=c[a][d]);b._RE_NUM_NO_PX.test(e)&&r.test(d)&&
(k=c.style,g=k.width,h=k.minWidth,i=k.maxWidth,k.minWidth=k.maxWidth=k.width=e,e=f.width,k.width=g,k.minWidth=h,k.maxWidth=i);return e},style:function(a,d,e){var a=b.query(a),f,g=a[0];if(c.isPlainObject(d)){for(f in d)for(g=a.length-1;0<=g;g--)q(a[g],f,d[f]);return i}if(e===i)return f="",g&&(f=q(g,d,e)),f;for(g=a.length-1;0<=g;g--)q(a[g],d,e);return i},css:function(a,d,e){var a=b.query(a),f=a[0],g;if(c.isPlainObject(d)){for(g in d)for(f=a.length-1;0<=f;f--)q(a[f],g,d[g]);return i}d=l(d);g=h[d];if(e===
i){e="";if(f&&(!g||!("get"in g&&(e=g.get(f,!0))!==i)))e=b._getComputedStyle(f,d);return e===i?"":e}for(f=a.length-1;0<=f;f--)q(a[f],d,e);return i},show:function(c){var c=b.query(c),e,f,g;for(g=c.length-1;0<=g;g--)if(f=c[g],f[a].display=b.data(f,y)||C,"none"===b.css(f,"display")){e=f.tagName.toLowerCase();var h=void 0,i=n[e],k=void 0;n[e]||(h=d.body||d.documentElement,k=d.createElement(e),b.prepend(k,h),i=b.css(k,"display"),h.removeChild(k),n[e]=i);e=i;b.data(f,y,e);f[a].display=e}},hide:function(c){var c=
b.query(c),d,e;for(e=c.length-1;0<=e;e--){d=c[e];var f=d[a],g=f.display;"none"!==g&&(g&&b.data(d,y,g),f.display="none")}},toggle:function(a){var a=b.query(a),c,d;for(d=a.length-1;0<=d;d--)c=a[d],"none"===b.css(c,"display")?b.show(c):b.hide(c)},addStyleSheet:function(a,c,d){a=a||f;"string"==typeof a&&(d=c,c=a,a=f);var a=b.get(a),a=b.getWindow(a).document,e;if(d&&(d=d.replace("#",C)))e=b.get("#"+d,a);e||(e=b.create("<style>",{id:d},a),b.get("head",a).appendChild(e),e.styleSheet?e.styleSheet.cssText=
c:e.appendChild(a.createTextNode(c)))},unselectable:function(d){var d=b.query(d),e,f,h=0,i,k;for(f=d.length-1;0<=f;f--)if(e=d[f],g.gecko)e[a].MozUserSelect="none";else if(g.webkit)e[a].KhtmlUserSelect="none";else if(g.ie||g.opera){k=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(i=["iframe","textarea","input","select"];e=k[h++];)c.inArray(t(e),i)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([e,"height"],
function(a){b["inner"+c.ucfirst(a)]=function(c){return(c=b.get(c))&&s(c,a,"padding")};b["outer"+c.ucfirst(a)]=function(c,d){var e=b.get(c);return e&&s(e,a,d?"margin":"border")};b[a]=function(c,d){var e=b.css(c,a,d);e&&(e=parseFloat(e));return e}});var u={position:"absolute",visibility:"hidden",display:"block"};c.each(["height","width"],function(a){h[a]={get:function(b,c){return c?s(b,a)+"px":i}}});c.each(["left","top"],function(a){h[a]={get:function(e,f){var h;if(f&&(h=b._getComputedStyle(e,a),"auto"===
h)){h=0;if(c.inArray(b.css(e,"position"),["absolute","fixed"])){h=e["left"===a?"offsetLeft":"offsetTop"];if(g.ie&&9>(d.documentMode||0)||g.opera)h-=e.offsetParent&&e.offsetParent["client"+("left"==a?"Left":"Top")]||0;h-=w(b.css(e,"margin-"+a))||0}h+="px"}return h}}});return b},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,b,i){function l(k,f,g,l,d,a,r){if(!(k=b.get(k)))return null;if(0===f)return k;a||(k=k[g]);if(!k)return null;d=d&&b.get(d)||null;f===i&&(f=1);var a=[],e=c.isArray(f),q,w;c.isNumber(f)&&(q=0,w=f,f=function(){return++q===w});for(;k&&k!=d;){if((k.nodeType==s.ELEMENT_NODE||k.nodeType==s.TEXT_NODE&&r)&&j(k,f)&&(!l||l(k)))if(a.push(k),!e)break;k=k[g]}return e?a:a[0]||null}function j(i,f){if(!f)return!0;if(c.isArray(f)){var g,j=f.length;if(!j)return!0;for(g=0;g<j;g++)if(b.test(i,
f[g]))return!0}else if(b.test(i,f))return!0;return!1}function q(i,f,g,j){var d=[],a,l;if((a=i=b.get(i))&&g)a=i.parentNode;if(a){g=c.makeArray(a.childNodes);for(a=0;a<g.length;a++)l=g[a],(j||l.nodeType==s.ELEMENT_NODE)&&l!=i&&d.push(l);f&&(d=b.filter(d,f))}return d}var s=b.NodeType;c.mix(b,{_contains:function(b,c){return!!(b.compareDocumentPosition(c)&16)},closest:function(b,c,g,i){return l(b,c,"parentNode",function(b){return b.nodeType!=s.DOCUMENT_FRAGMENT_NODE},g,!0,i)},parent:function(b,c,g){return l(b,
c,"parentNode",function(b){return b.nodeType!=s.DOCUMENT_FRAGMENT_NODE},g,i)},first:function(c,f,g){c=b.get(c);return l(c&&c.firstChild,f,"nextSibling",i,i,!0,g)},last:function(c,f,g){c=b.get(c);return l(c&&c.lastChild,f,"previousSibling",i,i,!0,g)},next:function(b,c,g){return l(b,c,"nextSibling",i,i,i,g)},prev:function(b,c,g){return l(b,c,"previousSibling",i,i,i,g)},siblings:function(b,c,g){return q(b,c,!0,g)},children:function(b,c){return q(b,c,i)},contents:function(b,c){return q(b,c,i,1)},contains:function(c,
f){c=b.get(c);f=b.get(f);return c&&f?b._contains(c,f):!1},index:function(i,f){var g=b.query(i),j,d=0;j=g[0];if(!f){g=j&&j.parentNode;if(!g)return-1;for(;j=j.previousSibling;)j.nodeType==s.ELEMENT_NODE&&d++;return d}d=b.query(f);return"string"===typeof f?c.indexOf(j,d):c.indexOf(d[0],g)},equals:function(c,f){c=b.query(c);f=b.query(f);if(c.length!=f.length)return!1;for(var g=c.length;0<=g;g--)if(c[g]!=f[g])return!1;return!0}});return b},{requires:["./api"]});
